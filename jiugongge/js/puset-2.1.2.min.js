!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("PuSet requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";const n="function",r="object",i=[],o=t.document,s=Object.getPrototypeOf,c=i.slice,u=i.concat,a=i.push,l=i.indexOf,f={},h=f.toString,p=f.hasOwnProperty,d=p.toString,g=d.call(Object),m=function(t){return typeof t===n&&"number"!=typeof t.nodeType},y=function(t){return null!=t&&t===t.window};function v(t){return null==t?t+"":typeof t===r||typeof t===n?f[h.call(t)]||r:typeof t}function w(t){return c.call(t,0)}const x=/^((?!\d)[$\w]+|[1-9]\d*)$/,b=function t(e,n){return new t.fn.init(e,n)};function S(t){let e=!!t&&"length"in t&&t.length,n=v(t);return!m(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function O(t,e,n){if(m(e))return b.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return b.grep(t,function(t){return t===e!==n});if("string"!=typeof e)return b.grep(t,function(t){return l.call(e,t)>-1!==n});let r=j.find(e);return b.grep(t,function(t){return r.indexOf(t,0)>=0},n)}let j;b.fn=b.prototype={puset:"2.1.1",constructor:b,length:0,toArray:function(){return w(this)},get:function(t){return null==t?w(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){const e=b.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return b.each(this,t)},map:function(t){return this.pushStack(b.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(b.grep(this,function(t,e){return e%2}))},eq:function(t){const e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice,indexOf:l},b.extend=b.fn.extend=function(){let t,e,n,i,o,s,c=arguments[0]||{},u=1,a=arguments.length,l=!1;for("boolean"==typeof c&&(l=c,c=arguments[u]||{},u++),typeof c===r||m(c)||(c={}),u===a&&(c=this,u--);u<a;u++)if(null!=(t=arguments[u]))for(e in t)i=t[e],"__proto__"!==e&&c!==i&&(l&&i&&(b.isPlainObject(i)||(o=Array.isArray(i)))?(n=c[e],s=o&&!Array.isArray(n)?[]:o||b.isPlainObject(n)?n:{},o=!1,c[e]=b.extend(l,s,i)):void 0!==i&&(c[e]=i));return c},b.extend({expando:"PuSet"+("2.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,createClass:function(t,e){if("function"==typeof t.constructor)return t.constructor.prototype=t,b.extend(t.constructor,e)},error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){let e,r;return!(!t||"[object Object]"!==h.call(t))&&(!(e=s(t))||typeof(r=p.call(e,"constructor")&&e.constructor)===n&&d.call(r)===g)},isEmptyObject:function(t){for(let{}in t)return!1;return!0},isXML:function(t){const e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},isArray:Array.isArray||function(t){return"array"==v(t)},isFunction:m,isWindow:y,isNumeric:function(t){const e=v(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},type:v,each:function(t,e){let n,r=0;if(S(t))for(n=t.length;r<n&&!1!==e(t[r],r);r++);else for(r in t)if(!1===e(t[r],r))break;return t},makeArray:function(t,e){let n=e||[];return null!=t&&(S(Object(t))?b.merge(n,"string"==typeof t?[t]:t):a.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:l.call(e,t,n)},append:function(t,e){return b.each(Object.keys(e),function(n){void 0===t[n]&&(t[n]=e[n])}),t},merge:function(t,e){let n=+e.length,r=0,i=t.length;for(;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){let r,i=[],o=0,s=t.length,c=!n;for(;o<s;o++)(r=!e(t[o],o))!==c&&i.push(t[o]);return i},map:function(t,e,n){let r,i,o=0,s=[];if(S(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&s.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&s.push(i);return u.apply([],s)},dir:function(t,e){let i=null===t?"null":typeof t;if(r!=i&&n!=i)return i+" is primitive type.";let o,s,c=[v(t)," = {","\n\n\t"];for(o in t)try{s=t[o]}catch(t){s="[object UnknownObject]"}finally{i=v(s),c.push(x.test(o)?o:JSON.stringify(o),": ","string"==typeof s?JSON.stringify(s):"array"==i?"[object Array]":n==i?g.replace("Object",o):""+s,",\n\n\t")}return c.pop(),c.push("\n\n}"),(e||{}).innerText=c.join("")},alert:function(e){t.alert(this.dir(e,!1))}}),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t){f["[object "+t+"]"]=t.toLowerCase()}),b.fn.extend({find:function(t){let e=[];return t&&"string"==typeof t&&this.each(function(n){try{b.merge(e,n.querySelectorAll(t))}catch(e){b.error(`'${t}' is not a valid selector.`)}}),this.pushStack(e)},filter:function(t){return this.pushStack(O(this,t,!1))},not:function(t){return this.pushStack(O(this,t,!0))},is:function(t){return!!O(this,"string"==typeof t?j.find(t):t||[],!1).length}}),(b.fn.init=function(t,e,n){return t?(n=n||j,"string"==typeof t?!e||e.puset?(e||n).find(t):this.constructor(e).find(t):t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(b):r===typeof t?b.makeArray(t,this):this):this}).prototype=b.fn,j=b(o),function(t){if(typeof t!==n)return null;let e=/^\s*text\/html\s*(?:;|$)/i,r=t.prototype,i=r.parseFromString;try{if((new t).parseFromString("","text/html"))return t}catch(t){}r.parseFromString=function(t,n){if(e.test(n)){let e=o.implementation.createHTMLDocument("");return t.toLowerCase().indexOf("<!doctype")>-1?e.documentElement.innerHTML=t:e.body.innerHTML=t,e}return i.apply(this,arguments)}}(DOMParser),b.each({XML:"application/xml",SVG:"image/svg+xml",HTML:"text/html"},function(e,n){b["parse"+n]=function(r){let i,o;if(!r||"string"!=typeof r)return null;if(t.ActiveXObject)(i=new ActiveXObject("Microsoft.XMLDOM")).loadXML(r);else try{i=(o=new DOMParser).parseFromString(r,e)}catch(t){i=null}if(!i||i.getElementsByTagName("parsererror").length)throw new Error("is not invalid "+n);return i}}),b.isReady=!1;const E=new Promise(function(e){function n(){o.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),b.isReady=!0,e()}"complete"===o.readyState||"loading"!==o.readyState&&!o.documentElement.doScroll?(b.isReady=!0,t.setTimeout(e)):(o.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))});b.readyException=function(e){t.setTimeout(function(){throw e})},b.fn.ready=function(t){return E.then(()=>t(b)).catch(function(t){b.readyException(t)}),this};const A=/[^\x20\t\r\n\f]+/g,C=/^([^.]*)(?:\.(.+)|)/;function L(){return!1}const P=b.createClass({target:null,type:"",srcEvent:null,isFirst:!0,isFinal:!0,isCustom:!1,namespace:"",rnamespace:null,center:null,pointers:null,changedPointers:null,pointerType:"mouse",eventType:4,timeStamp:0,deltaTime:0,angle:0,distance:0,deltaX:0,deltaY:0,offsetDirection:1,overallVelocityX:0,overallVelocityY:0,overallVelocity:0,scale:1,rotation:0,maxPointers:1,velocity:0,velocityX:0,velocityY:0,direction:1,constructor:function t(e,n){if(e instanceof t)return n?b.extend(e,n):e;this.center={x:0,y:0},e&&e.type?(this.srcEvent=e,this.type=e.type):this.type=e,n&&b.extend(this,n),this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.srcEvent&&this.srcEvent.preventDefault()},getComposedPath:function(e){let n,r,i;if(r=this.srcEvent)if(r.composedPath)n=r.composedPath();else if(r.path)n=r.path;else{for(n=[i=r.target];i=i.parentNode;)n.push(i);n.push(t)}const o=1+(n=w(n||[])).indexOf(e||this.target);return n.slice(0,o)}});function M(t,e,n,r){let i,o,s;if(S(t)&&(s=t.length)>0)for(m(n)&&(r=n,n=null==e?null:Object.keys(e));s--&&(i=t[s],o=!0,b.each(n,function(t){return o=o&&i[t]===e[t]}),!o||!1!==r(i,s)););}function k(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}const T=["isCustom","handler","selector","namespace"],D=b.createClass({restrictive:!1,manager:null,listener:L,registered:!1,inputClass:null,target:null,handlers:null,constructor:function(t){const e=this;return this.target=t,this.handlers={},this.listener=function(t){e.trigger(new P(t))},e},init:function(){if(!this.registered)if(t.Hammer&&Hammer.Manager){const t=this;t.manager=new Hammer.Manager(t.target,{recognizers:Hammer.defaults.preset,inputClass:t.inputClass,domEvents:!1}),t.manager.emit=function(e,n){n.isCustom=!0,t.trigger(new P(e,n))},t.registered=!0}else console.warn("`PuSet().action()` need library `Hammer`.\nsee http://hammerjs.github.io/");return this},add:function(t,e,n,i,o){const s=this;if(typeof t===r){for(let n in t)this.add(n,e,t[n],i,o);return s}if(null==n&&("string"==typeof e?n=void 0:(n=e,e=void 0)),!1===n)n=L;else if(!n)return s;const c=!o;let u,a,l,f;for(u=(t=(t||"").match(A)||[""]).length;u--;){if(a=(l=C.exec(t[u])||[])[1],f=(l[2]||"").split(".").sort(),!a)continue;let r,h={selector:e,isCustom:c,handler:n,one:!!i,namespace:f.join(".")},p=!0;Array.isArray(r=s.handlers[a])||(s.handlers[a]=r=new Array(0)),M(r,h,T,()=>p=!1),p&&(r.push(h),o&&s.target.addEventListener&&s.target.addEventListener(a,s.listener))}return s},remove:function(t,e,n){let r,i,o,s,c=this;for(r=(t=(t||"").match(A)||[""]).length;r--;){if(i=(o=C.exec(t[r])||[])[1],s=(o[2]||"").split(".").sort(),!i){for(i in c.handlers)this.remove(i+t[r],e,n);continue}o=o[2]&&new RegExp("(^|\\.)"+s.join("\\.(?:.*\\.|)")+"(\\.|$)");let u=c.handlers[i];M(u,null,(t,r)=>{o&&!o.test(t.namespace)||e&&e!==t.selector&&("**"!==e||!t.selector)||n&&n!==t.handler||u.splice(r,1)}),u&&0!=u.length||k(c.target,i,c.listener)}return c},trigger:function(t){const e=this,n=[];let r=p.call(t,"type")?t.type:t,i=p.call(t,"namespace")?t.namespace.split("."):[];!t.isCustom&&r.indexOf(".")>-1&&(r=(i=r.split(".")).shift(),i.sort());const o=this.handlers[r];(t=new P(t)).type=r,t.namespace=i.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.target||(t.target=e.target);const s=t.getComposedPath(e.target);b.each(o,function(r,i){if(t.isCustom===r.isCustom){let o=function(e){t.rnamespace&&!1!==r.namespace&&!t.rnamespace.test(r.namespace)||r.handler.call(e,t)};if(r.selector){let t=w(b(r.selector,e.target));t.length&&b.each(s.filter(e=>t.includes(e)),o)}else o(e.target);r.one&&n.push(i)}});let c=n.length;for(;c--;)o.splice(n[c],1);o&&0!==o.length||k(e.target,r,e.listener)}}),H={data:new Map,get:function(t){return this.data.has(t)||this.data.set(t,new D(t)),this.data.get(t)},remove:function(t){this.data.delete(t)}};b.extend({ActionEvent:P,getActionInput:function(t,e){return e?H.get(t).init():H.get(t)}}),b.fn.extend({on:function(t,e,n){return this.each(function(r){b.getActionInput(r,!1).add(t,e,n,!1,!0)})},one:function(t,e,n){return this.each(function(r){b.getActionInput(r,!1).add(t,e,n,!0,!0)})},setInputClass:function(t){return this.each(function(e){b.getActionInput(e,!1).inputClass=t})},setManager:function(t){return this.each(function(e){t(b.getActionInput(e,!0).manager)})},action:function(t,e,n){return this.each(function(r){b.getActionInput(r,!0).add(t,e,n,!1,!1)})},off:function(t,e,i){if(typeof t===r){for(let n in t)this.off(n,e,t[n]);return this}return!1!==e&&typeof e!==n||(i=e,e=void 0),!1===i&&(i=L),this.each(function(n){b.getActionInput(n,!1).remove(t,e,i,!1)})},trigger:function(t){return this.each(function(e){b.getActionInput(e,!1).trigger(t)})}});let $=t.PuSet,F=t.$;return b.noConflict=function(e){return t.$===b&&(t.$=F),e&&t.PuSet===b&&(t.PuSet=$),b},void 0===e&&(t.PuSet=t.$=b),b});